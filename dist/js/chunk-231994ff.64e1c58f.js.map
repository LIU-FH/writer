{"version":3,"sources":["webpack:///./src/views/work/turndown.vue?8c2d","webpack:///src/views/work/turndown.vue","webpack:///./src/views/work/turndown.vue?c0e2","webpack:///./src/views/work/turndown.vue","webpack:///./node_modules/turndown/lib/turndown.es.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","expression","attrs","domProps","on","$event","target","composing","html","md","staticRenderFns","component","extend","destination","i","arguments","length","source","key","hasOwnProperty","repeat","character","count","Array","join","blockElements","isBlock","node","indexOf","nodeName","toLowerCase","voidElements","isVoid","voidSelector","hasVoid","querySelector","rules","Rules","options","_keep","_remove","blankRule","replacement","blankReplacement","keepReplacement","defaultRule","defaultReplacement","array","push","findRule","rule","filterValue","filter","isArray","TypeError","call","collapseWhitespace","element","isPre","firstChild","prevText","prevVoid","prev","next","nodeType","text","data","replace","test","substr","remove","nextNode","nextSibling","parentNode","removeChild","current","paragraph","content","lineBreak","br","heading","hLevel","Number","charAt","headingStyle","underline","blockquote","list","parent","lastElementChild","listItem","prefix","bulletListMarker","start","getAttribute","index","prototype","children","indentedCodeBlock","codeBlockStyle","textContent","fencedCodeBlock","className","language","match","fence","horizontalRule","hr","inlineLink","linkStyle","href","title","referenceLink","reference","linkReferenceStyle","id","references","append","emphasis","trim","emDelimiter","strong","strongDelimiter","code","hasSiblings","previousSibling","isCodeBlock","delimiter","leadingSpace","trailingSpace","matches","image","alt","src","titlePart","add","unshift","keep","forNode","isBlank","forEach","fn","root","window","canParseHTMLNatively","Parser","DOMParser","canParse","parseFromString","e","createHTMLParser","JSDOM","string","document","_htmlParser","HTMLParser","RootNode","input","doc","htmlParser","getElementById","cloneNode","Node","isCode","flankingWhitespace","leading","trailing","hasLeading","hasTrailing","isFlankedByWhitespace","side","sibling","regExp","isFlanked","nodeValue","reduce","leadingNewLinesRegExp","trailingNewLinesRegExp","escapes","TurndownService","defaults","outerHTML","process","self","childNodes","output","escape","replacementForNode","postProcess","whitespace","separatingNewlines","newlines","sort","maxNewlines","string1","string2","separator","canConvert","turndown","use","plugin","addRule","accumulator"],"mappings":"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","file":"js/chunk-231994ff.64e1c58f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w-screen h-screen px-10 flex flex-col\"},[_c('div',{staticClass:\"text-right flex-none my-3\"},[_c('md-button',{staticClass:\"md-raised\"},[_vm._v(\"保存\")])],1),_c('div',{staticClass:\"flex-1 flex mb-10\"},[_c('div',{staticClass:\"flex-1 mr-3 bg-white border border-gray-400 rounded p-3 \"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.html),expression:\"html\"}],staticClass:\"outline-none resize-none w-full min-h-full overflow-y-auto md-scrollbar \",attrs:{\"placeholder\":\"请在此处输入HTML内容\"},domProps:{\"value\":(_vm.html)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.html=$event.target.value}}})]),_c('div',{staticClass:\"flex-1 ml-3 bg-white border border-gray-400 rounded p-3 \"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.md),expression:\"md\"}],staticClass:\"outline-none resize-none w-full min-h-full overflow-y-auto md-scrollbar\",attrs:{\"placeholder\":\"转化后的MD内容\",\"readonly\":\"readonly\"},domProps:{\"value\":(_vm.md)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.md=$event.target.value}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"w-screen h-screen px-10 flex flex-col\">\r\n        <div class=\"text-right flex-none my-3\">\r\n            <md-button class=\"md-raised\">保存</md-button>\r\n        </div>\r\n        <div class=\"flex-1 flex mb-10\">\r\n            <div class=\"flex-1 mr-3 bg-white border border-gray-400 rounded p-3 \">\r\n            <textarea class=\"outline-none resize-none w-full min-h-full overflow-y-auto md-scrollbar \" v-model=\"html\"\r\n                      placeholder=\"请在此处输入HTML内容\"></textarea>\r\n            </div>\r\n            <div class=\"flex-1 ml-3 bg-white border border-gray-400 rounded p-3 \">\r\n            <textarea class=\"outline-none resize-none w-full min-h-full overflow-y-auto md-scrollbar\" v-model=\"md\"\r\n                      placeholder=\"转化后的MD内容\" readonly=\"readonly\"></textarea>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"turndown\",\r\n        data: () => ({\r\n            md: \"\",\r\n            html: \"\",\r\n        }),\r\n        watch: {\r\n            html: function () {\r\n                let turndown = require('turndown')\r\n                let t = new turndown()\r\n                this.html = t.turndown(this.html)\r\n            }\r\n        },\r\n        mounted() {\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./turndown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./turndown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./turndown.vue?vue&type=template&id=2cc00ebe&scoped=true&\"\nimport script from \"./turndown.vue?vue&type=script&lang=js&\"\nexport * from \"./turndown.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cc00ebe\",\n  null\n  \n)\n\nexport default component.exports","function extend (destination) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) destination[key] = source[key];\n    }\n  }\n  return destination\n}\n\nfunction repeat (character, count) {\n  return Array(count + 1).join(character)\n}\n\nvar blockElements = [\n  'address', 'article', 'aside', 'audio', 'blockquote', 'body', 'canvas',\n  'center', 'dd', 'dir', 'div', 'dl', 'dt', 'fieldset', 'figcaption',\n  'figure', 'footer', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6',\n  'header', 'hgroup', 'hr', 'html', 'isindex', 'li', 'main', 'menu', 'nav',\n  'noframes', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table',\n  'tbody', 'td', 'tfoot', 'th', 'thead', 'tr', 'ul'\n];\n\nfunction isBlock (node) {\n  return blockElements.indexOf(node.nodeName.toLowerCase()) !== -1\n}\n\nvar voidElements = [\n  'area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input',\n  'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'\n];\n\nfunction isVoid (node) {\n  return voidElements.indexOf(node.nodeName.toLowerCase()) !== -1\n}\n\nvar voidSelector = voidElements.join();\nfunction hasVoid (node) {\n  return node.querySelector && node.querySelector(voidSelector)\n}\n\nvar rules = {};\n\nrules.paragraph = {\n  filter: 'p',\n\n  replacement: function (content) {\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.lineBreak = {\n  filter: 'br',\n\n  replacement: function (content, node, options) {\n    return options.br + '\\n'\n  }\n};\n\nrules.heading = {\n  filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n  replacement: function (content, node, options) {\n    var hLevel = Number(node.nodeName.charAt(1));\n\n    if (options.headingStyle === 'setext' && hLevel < 3) {\n      var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n      return (\n        '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n      )\n    } else {\n      return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.blockquote = {\n  filter: 'blockquote',\n\n  replacement: function (content) {\n    content = content.replace(/^\\n+|\\n+$/g, '');\n    content = content.replace(/^/gm, '> ');\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.list = {\n  filter: ['ul', 'ol'],\n\n  replacement: function (content, node) {\n    var parent = node.parentNode;\n    if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n      return '\\n' + content\n    } else {\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.listItem = {\n  filter: 'li',\n\n  replacement: function (content, node, options) {\n    content = content\n      .replace(/^\\n+/, '') // remove leading newlines\n      .replace(/\\n+$/, '\\n') // replace trailing newlines with just a single one\n      .replace(/\\n/gm, '\\n    '); // indent\n    var prefix = options.bulletListMarker + '   ';\n    var parent = node.parentNode;\n    if (parent.nodeName === 'OL') {\n      var start = parent.getAttribute('start');\n      var index = Array.prototype.indexOf.call(parent.children, node);\n      prefix = (start ? Number(start) + index : index + 1) + '.  ';\n    }\n    return (\n      prefix + content + (node.nextSibling && !/\\n$/.test(content) ? '\\n' : '')\n    )\n  }\n};\n\nrules.indentedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'indented' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    return (\n      '\\n\\n    ' +\n      node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n      '\\n\\n'\n    )\n  }\n};\n\nrules.fencedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'fenced' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var className = node.firstChild.className || '';\n    var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n\n    return (\n      '\\n\\n' + options.fence + language + '\\n' +\n      node.firstChild.textContent +\n      '\\n' + options.fence + '\\n\\n'\n    )\n  }\n};\n\nrules.horizontalRule = {\n  filter: 'hr',\n\n  replacement: function (content, node, options) {\n    return '\\n\\n' + options.hr + '\\n\\n'\n  }\n};\n\nrules.inlineLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'inlined' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node) {\n    var href = node.getAttribute('href');\n    var title = node.title ? ' \"' + node.title + '\"' : '';\n    return '[' + content + '](' + href + title + ')'\n  }\n};\n\nrules.referenceLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'referenced' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var href = node.getAttribute('href');\n    var title = node.title ? ' \"' + node.title + '\"' : '';\n    var replacement;\n    var reference;\n\n    switch (options.linkReferenceStyle) {\n      case 'collapsed':\n        replacement = '[' + content + '][]';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      case 'shortcut':\n        replacement = '[' + content + ']';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      default:\n        var id = this.references.length + 1;\n        replacement = '[' + content + '][' + id + ']';\n        reference = '[' + id + ']: ' + href + title;\n    }\n\n    this.references.push(reference);\n    return replacement\n  },\n\n  references: [],\n\n  append: function (options) {\n    var references = '';\n    if (this.references.length) {\n      references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n      this.references = []; // Reset references\n    }\n    return references\n  }\n};\n\nrules.emphasis = {\n  filter: ['em', 'i'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.emDelimiter + content + options.emDelimiter\n  }\n};\n\nrules.strong = {\n  filter: ['strong', 'b'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.strongDelimiter + content + options.strongDelimiter\n  }\n};\n\nrules.code = {\n  filter: function (node) {\n    var hasSiblings = node.previousSibling || node.nextSibling;\n    var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n    return node.nodeName === 'CODE' && !isCodeBlock\n  },\n\n  replacement: function (content) {\n    if (!content.trim()) return ''\n\n    var delimiter = '`';\n    var leadingSpace = '';\n    var trailingSpace = '';\n    var matches = content.match(/`+/gm);\n    if (matches) {\n      if (/^`/.test(content)) leadingSpace = ' ';\n      if (/`$/.test(content)) trailingSpace = ' ';\n      while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n    }\n\n    return delimiter + leadingSpace + content + trailingSpace + delimiter\n  }\n};\n\nrules.image = {\n  filter: 'img',\n\n  replacement: function (content, node) {\n    var alt = node.alt || '';\n    var src = node.getAttribute('src') || '';\n    var title = node.title || '';\n    var titlePart = title ? ' \"' + title + '\"' : '';\n    return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n  }\n};\n\n/**\n * Manages a collection of rules used to convert HTML to Markdown\n */\n\nfunction Rules (options) {\n  this.options = options;\n  this._keep = [];\n  this._remove = [];\n\n  this.blankRule = {\n    replacement: options.blankReplacement\n  };\n\n  this.keepReplacement = options.keepReplacement;\n\n  this.defaultRule = {\n    replacement: options.defaultReplacement\n  };\n\n  this.array = [];\n  for (var key in options.rules) this.array.push(options.rules[key]);\n}\n\nRules.prototype = {\n  add: function (key, rule) {\n    this.array.unshift(rule);\n  },\n\n  keep: function (filter) {\n    this._keep.unshift({\n      filter: filter,\n      replacement: this.keepReplacement\n    });\n  },\n\n  remove: function (filter) {\n    this._remove.unshift({\n      filter: filter,\n      replacement: function () {\n        return ''\n      }\n    });\n  },\n\n  forNode: function (node) {\n    if (node.isBlank) return this.blankRule\n    var rule;\n\n    if ((rule = findRule(this.array, node, this.options))) return rule\n    if ((rule = findRule(this._keep, node, this.options))) return rule\n    if ((rule = findRule(this._remove, node, this.options))) return rule\n\n    return this.defaultRule\n  },\n\n  forEach: function (fn) {\n    for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n  }\n};\n\nfunction findRule (rules, node, options) {\n  for (var i = 0; i < rules.length; i++) {\n    var rule = rules[i];\n    if (filterValue(rule, node, options)) return rule\n  }\n  return void 0\n}\n\nfunction filterValue (rule, node, options) {\n  var filter = rule.filter;\n  if (typeof filter === 'string') {\n    if (filter === node.nodeName.toLowerCase()) return true\n  } else if (Array.isArray(filter)) {\n    if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n  } else if (typeof filter === 'function') {\n    if (filter.call(rule, node, options)) return true\n  } else {\n    throw new TypeError('`filter` needs to be a string, array, or function')\n  }\n}\n\n/**\n * The collapseWhitespace function is adapted from collapse-whitespace\n * by Luc Thevenard.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n *\n * @param {Object} options\n */\nfunction collapseWhitespace (options) {\n  var element = options.element;\n  var isBlock = options.isBlock;\n  var isVoid = options.isVoid;\n  var isPre = options.isPre || function (node) {\n    return node.nodeName === 'PRE'\n  };\n\n  if (!element.firstChild || isPre(element)) return\n\n  var prevText = null;\n  var prevVoid = false;\n\n  var prev = null;\n  var node = next(prev, element, isPre);\n\n  while (node !== element) {\n    if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n      var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n      if ((!prevText || / $/.test(prevText.data)) &&\n          !prevVoid && text[0] === ' ') {\n        text = text.substr(1);\n      }\n\n      // `text` might be empty at this point.\n      if (!text) {\n        node = remove(node);\n        continue\n      }\n\n      node.data = text;\n\n      prevText = node;\n    } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n      if (isBlock(node) || node.nodeName === 'BR') {\n        if (prevText) {\n          prevText.data = prevText.data.replace(/ $/, '');\n        }\n\n        prevText = null;\n        prevVoid = false;\n      } else if (isVoid(node)) {\n        // Avoid trimming space around non-block, non-BR void elements.\n        prevText = null;\n        prevVoid = true;\n      }\n    } else {\n      node = remove(node);\n      continue\n    }\n\n    var nextNode = next(prev, node, isPre);\n    prev = node;\n    node = nextNode;\n  }\n\n  if (prevText) {\n    prevText.data = prevText.data.replace(/ $/, '');\n    if (!prevText.data) {\n      remove(prevText);\n    }\n  }\n}\n\n/**\n * remove(node) removes the given node from the DOM and returns the\n * next node in the sequence.\n *\n * @param {Node} node\n * @return {Node} node\n */\nfunction remove (node) {\n  var next = node.nextSibling || node.parentNode;\n\n  node.parentNode.removeChild(node);\n\n  return next\n}\n\n/**\n * next(prev, current, isPre) returns the next node in the sequence, given the\n * current and previous nodes.\n *\n * @param {Node} prev\n * @param {Node} current\n * @param {Function} isPre\n * @return {Node}\n */\nfunction next (prev, current, isPre) {\n  if ((prev && prev.parentNode === current) || isPre(current)) {\n    return current.nextSibling || current.parentNode\n  }\n\n  return current.firstChild || current.nextSibling || current.parentNode\n}\n\n/*\n * Set up window for Node.js\n */\n\nvar root = (typeof window !== 'undefined' ? window : {});\n\n/*\n * Parsing HTML strings\n */\n\nfunction canParseHTMLNatively () {\n  var Parser = root.DOMParser;\n  var canParse = false;\n\n  // Adapted from https://gist.github.com/1129031\n  // Firefox/Opera/IE throw errors on unsupported types\n  try {\n    // WebKit returns null on unsupported types\n    if (new Parser().parseFromString('', 'text/html')) {\n      canParse = true;\n    }\n  } catch (e) {}\n\n  return canParse\n}\n\nfunction createHTMLParser () {\n  var Parser = function () {};\n\n  {\n    var JSDOM = require('jsdom').JSDOM;\n    Parser.prototype.parseFromString = function (string) {\n      return new JSDOM(string).window.document\n    };\n  }\n  return Parser\n}\n\nvar HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\nfunction RootNode (input) {\n  var root;\n  if (typeof input === 'string') {\n    var doc = htmlParser().parseFromString(\n      // DOM parsers arrange elements in the <head> and <body>.\n      // Wrapping in a custom element ensures elements are reliably arranged in\n      // a single element.\n      '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n      'text/html'\n    );\n    root = doc.getElementById('turndown-root');\n  } else {\n    root = input.cloneNode(true);\n  }\n  collapseWhitespace({\n    element: root,\n    isBlock: isBlock,\n    isVoid: isVoid\n  });\n\n  return root\n}\n\nvar _htmlParser;\nfunction htmlParser () {\n  _htmlParser = _htmlParser || new HTMLParser();\n  return _htmlParser\n}\n\nfunction Node (node) {\n  node.isBlock = isBlock(node);\n  node.isCode = node.nodeName.toLowerCase() === 'code' || node.parentNode.isCode;\n  node.isBlank = isBlank(node);\n  node.flankingWhitespace = flankingWhitespace(node);\n  return node\n}\n\nfunction isBlank (node) {\n  return (\n    ['A', 'TH', 'TD', 'IFRAME', 'SCRIPT', 'AUDIO', 'VIDEO'].indexOf(node.nodeName) === -1 &&\n    /^\\s*$/i.test(node.textContent) &&\n    !isVoid(node) &&\n    !hasVoid(node)\n  )\n}\n\nfunction flankingWhitespace (node) {\n  var leading = '';\n  var trailing = '';\n\n  if (!node.isBlock) {\n    var hasLeading = /^[ \\r\\n\\t]/.test(node.textContent);\n    var hasTrailing = /[ \\r\\n\\t]$/.test(node.textContent);\n\n    if (hasLeading && !isFlankedByWhitespace('left', node)) {\n      leading = ' ';\n    }\n    if (hasTrailing && !isFlankedByWhitespace('right', node)) {\n      trailing = ' ';\n    }\n  }\n\n  return { leading: leading, trailing: trailing }\n}\n\nfunction isFlankedByWhitespace (side, node) {\n  var sibling;\n  var regExp;\n  var isFlanked;\n\n  if (side === 'left') {\n    sibling = node.previousSibling;\n    regExp = / $/;\n  } else {\n    sibling = node.nextSibling;\n    regExp = /^ /;\n  }\n\n  if (sibling) {\n    if (sibling.nodeType === 3) {\n      isFlanked = regExp.test(sibling.nodeValue);\n    } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n      isFlanked = regExp.test(sibling.textContent);\n    }\n  }\n  return isFlanked\n}\n\nvar reduce = Array.prototype.reduce;\nvar leadingNewLinesRegExp = /^\\n*/;\nvar trailingNewLinesRegExp = /\\n*$/;\nvar escapes = [\n  [/\\\\/g, '\\\\\\\\'],\n  [/\\*/g, '\\\\*'],\n  [/^-/g, '\\\\-'],\n  [/^\\+ /g, '\\\\+ '],\n  [/^(=+)/g, '\\\\$1'],\n  [/^(#{1,6}) /g, '\\\\$1 '],\n  [/`/g, '\\\\`'],\n  [/^~~~/g, '\\\\~~~'],\n  [/\\[/g, '\\\\['],\n  [/\\]/g, '\\\\]'],\n  [/^>/g, '\\\\>'],\n  [/_/g, '\\\\_'],\n  [/^(\\d+)\\. /g, '$1\\\\. ']\n];\n\nfunction TurndownService (options) {\n  if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n  var defaults = {\n    rules: rules,\n    headingStyle: 'setext',\n    hr: '* * *',\n    bulletListMarker: '*',\n    codeBlockStyle: 'indented',\n    fence: '```',\n    emDelimiter: '_',\n    strongDelimiter: '**',\n    linkStyle: 'inlined',\n    linkReferenceStyle: 'full',\n    br: '  ',\n    blankReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' : ''\n    },\n    keepReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n    },\n    defaultReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n    }\n  };\n  this.options = extend({}, defaults, options);\n  this.rules = new Rules(this.options);\n}\n\nTurndownService.prototype = {\n  /**\n   * The entry point for converting a string or DOM node to Markdown\n   * @public\n   * @param {String|HTMLElement} input The string or DOM node to convert\n   * @returns A Markdown representation of the input\n   * @type String\n   */\n\n  turndown: function (input) {\n    if (!canConvert(input)) {\n      throw new TypeError(\n        input + ' is not a string, or an element/document/fragment node.'\n      )\n    }\n\n    if (input === '') return ''\n\n    var output = process.call(this, new RootNode(input));\n    return postProcess.call(this, output)\n  },\n\n  /**\n   * Add one or more plugins\n   * @public\n   * @param {Function|Array} plugin The plugin or array of plugins to add\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  use: function (plugin) {\n    if (Array.isArray(plugin)) {\n      for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n    } else if (typeof plugin === 'function') {\n      plugin(this);\n    } else {\n      throw new TypeError('plugin must be a Function or an Array of Functions')\n    }\n    return this\n  },\n\n  /**\n   * Adds a rule\n   * @public\n   * @param {String} key The unique key of the rule\n   * @param {Object} rule The rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  addRule: function (key, rule) {\n    this.rules.add(key, rule);\n    return this\n  },\n\n  /**\n   * Keep a node (as HTML) that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  keep: function (filter) {\n    this.rules.keep(filter);\n    return this\n  },\n\n  /**\n   * Remove a node that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  remove: function (filter) {\n    this.rules.remove(filter);\n    return this\n  },\n\n  /**\n   * Escapes Markdown syntax\n   * @public\n   * @param {String} string The string to escape\n   * @returns A string with Markdown syntax escaped\n   * @type String\n   */\n\n  escape: function (string) {\n    return escapes.reduce(function (accumulator, escape) {\n      return accumulator.replace(escape[0], escape[1])\n    }, string)\n  }\n};\n\n/**\n * Reduces a DOM node down to its Markdown string equivalent\n * @private\n * @param {HTMLElement} parentNode The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction process (parentNode) {\n  var self = this;\n  return reduce.call(parentNode.childNodes, function (output, node) {\n    node = new Node(node);\n\n    var replacement = '';\n    if (node.nodeType === 3) {\n      replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n    } else if (node.nodeType === 1) {\n      replacement = replacementForNode.call(self, node);\n    }\n\n    return join(output, replacement)\n  }, '')\n}\n\n/**\n * Appends strings as each rule requires and trims the output\n * @private\n * @param {String} output The conversion output\n * @returns A trimmed version of the ouput\n * @type String\n */\n\nfunction postProcess (output) {\n  var self = this;\n  this.rules.forEach(function (rule) {\n    if (typeof rule.append === 'function') {\n      output = join(output, rule.append(self.options));\n    }\n  });\n\n  return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n}\n\n/**\n * Converts an element node to its Markdown equivalent\n * @private\n * @param {HTMLElement} node The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction replacementForNode (node) {\n  var rule = this.rules.forNode(node);\n  var content = process.call(this, node);\n  var whitespace = node.flankingWhitespace;\n  if (whitespace.leading || whitespace.trailing) content = content.trim();\n  return (\n    whitespace.leading +\n    rule.replacement(content, node, this.options) +\n    whitespace.trailing\n  )\n}\n\n/**\n * Determines the new lines between the current output and the replacement\n * @private\n * @param {String} output The current conversion output\n * @param {String} replacement The string to append to the output\n * @returns The whitespace to separate the current output and the replacement\n * @type String\n */\n\nfunction separatingNewlines (output, replacement) {\n  var newlines = [\n    output.match(trailingNewLinesRegExp)[0],\n    replacement.match(leadingNewLinesRegExp)[0]\n  ].sort();\n  var maxNewlines = newlines[newlines.length - 1];\n  return maxNewlines.length < 2 ? maxNewlines : '\\n\\n'\n}\n\nfunction join (string1, string2) {\n  var separator = separatingNewlines(string1, string2);\n\n  // Remove trailing/leading newlines and replace with separator\n  string1 = string1.replace(trailingNewLinesRegExp, '');\n  string2 = string2.replace(leadingNewLinesRegExp, '');\n\n  return string1 + separator + string2\n}\n\n/**\n * Determines whether an input can be converted\n * @private\n * @param {String|HTMLElement} input Describe this parameter\n * @returns Describe what it returns\n * @type String|Object|Array|Boolean|Number\n */\n\nfunction canConvert (input) {\n  return (\n    input != null && (\n      typeof input === 'string' ||\n      (input.nodeType && (\n        input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n      ))\n    )\n  )\n}\n\nexport default TurndownService;\n"],"sourceRoot":""}